<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Viviana Romero Alarcon">

<title>Homework Week2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="02_Romero_Alarcon_Viviana2_files/libs/clipboard/clipboard.min.js"></script>
<script src="02_Romero_Alarcon_Viviana2_files/libs/quarto-html/quarto.js"></script>
<script src="02_Romero_Alarcon_Viviana2_files/libs/quarto-html/popper.min.js"></script>
<script src="02_Romero_Alarcon_Viviana2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="02_Romero_Alarcon_Viviana2_files/libs/quarto-html/anchor.min.js"></script>
<link href="02_Romero_Alarcon_Viviana2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="02_Romero_Alarcon_Viviana2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="02_Romero_Alarcon_Viviana2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="02_Romero_Alarcon_Viviana2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="02_Romero_Alarcon_Viviana2_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Homework Week2</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Viviana Romero Alarcon </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p>Source: [<a href="https://github.com/alarconvv/UmassClasses/tree/master/Biol607" class="uri">https://github.com/alarconvv/UmassClasses/tree/master/Biol607</a>]</p>
<section id="intro" class="level2">
<h2 class="anchored" data-anchor-id="intro"><strong>Intro</strong></h2>
<p>A little while back, <a href="https://twitter.com/iamreddave">Dave Curran</a> using some of the code I’d posted from a previous 607 lab made a wonderful animation of change in arctic sea ice.</p>
<p><img src="https://i.redd.it/9r9ook3d5xlx.gif" class="img-fluid"></p>
<p>He used data from</p>
<p>ftp://sidads.colorado.edu/DATASETS/NOAA/G02135/north/daily/data/NH_seaice_extent_final_v2.csv ftp://sidads.colorado.edu/DATASETS/NOAA/G02135/north/daily/data/NH_seaice_extent_nrt_v2.csv</p>
<p>I’m providing you with a cleaned form of his data (his code is <a href="https://gist.github.com/cavedave/c5c2224c8c38661236c1c1ce894fd28f">here</a>) for you to work with in a few plots. The data file is called <a href="https://biol607.github.io/homework/data/NH_seaice_extent_monthly_1978_2016.csv">NH_seaice_extent_monthly_1978_2016.csv</a> - but don’t worry, I’m giving you code to load it.</p>
</section>
<section id="start" class="level2">
<h2 class="anchored" data-anchor-id="start"><strong>1. Start</strong></h2>
<p>Some setup. Run the code below. Show that it worked by showing the basic properties of the data. To impress yourself, look up the packages and functions used and explain what is going on here. But, that’s an IYKYK - not needed!</p>
<pre><code># libraries - if they don't load
# install.packages("tidyverse")
library(dplyr)
library(readr)
library(ggplot2)
library(forcats)

theme_set(theme_bw(base_size=12))

ice &lt;- read_csv("http://biol607.github.io/homework/data/NH_seaice_extent_monthly_1978_2016.csv") %&gt;%
  mutate(Month_Name = factor(Month_Name),
         Month_Name = fct_reorder(Month_Name, Month))</code></pre>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load libraries</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.3     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.3     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>ice <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"http://biol607.github.io/homework/data/NH_seaice_extent_monthly_1978_2016.csv"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Month_Name =</span> <span class="fu">factor</span>(Month_Name),</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">Month_Name =</span> <span class="fu">fct_reorder</span>(Month_Name, Month))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 458 Columns: 6
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (1): Month_Name
dbl (5): Year, Month, Day, Extent, Missing

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
</section>
<section id="boxplots" class="level2">
<h2 class="anchored" data-anchor-id="boxplots"><strong>2. Boxplots</strong></h2>
<p>Make a boxplot showing the variability in sea ice extent every month. IYKYK make it fancy.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ice, <span class="at">mapping =</span> <span class="fu">aes</span>( <span class="at">x =</span>Extent,  <span class="at">y =</span> Month_Name))<span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">color =</span> <span class="st">'grey50'</span>)<span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Month_Name), <span class="at">size=</span> <span class="fl">0.7</span>, <span class="at">alpha=</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">color =</span> <span class="st">'darkred'</span>, <span class="at">shape =</span> <span class="dv">18</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>No summary function supplied, defaulting to `mean_se()`</code></pre>
</div>
<div class="cell-output-display">
<p><img src="02_Romero_Alarcon_Viviana2_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="ridgelines" class="level2">
<h2 class="anchored" data-anchor-id="ridgelines"><strong>3. Ridgelines</strong></h2>
<p>Use <code>ggridges</code> to do the same thing. What do you learn that is different than the boxplot?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># libraries</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggridges)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ice, <span class="at">mapping =</span> <span class="fu">aes</span>( <span class="at">x =</span>Extent,  <span class="at">y =</span> Month_Name)) <span class="sc">+</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>)<span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Year))<span class="sc">+</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_ridges</span>() <span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_c</span>()<span class="sc">+</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.spacing =</span> <span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">"lines"</span>),</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Ice Extention"</span>) <span class="sc">+</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Months"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Picking joint bandwidth of 0.297</code></pre>
</div>
<div class="cell-output-display">
<p><img src="02_Romero_Alarcon_Viviana2_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<pre><code>RTA: With ridges we can see that distributions by months are not equals. In contrast, boxplot we can see outliers but the distributions is not too clear.</code></pre>
</section>
<section id="making-groups-from-the-continuous" class="level2">
<h2 class="anchored" data-anchor-id="making-groups-from-the-continuous"><strong>4. Making Groups from the Continuous</strong></h2>
<p>One thing that’s really cool about faceting is that you can use <code>cut_*()</code> functions on continuous variables to make facets by groups of continuous variables. To see what I mean, try <code>cut_interval(1:10, n = 5)</code> See how it makes five bins of even width? We use <code>cut_interval()</code> or other cut functions with faceting like so <code>facet_wrap(vars(cut_interval(some_variable)))</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># how cut_intervals works</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cut_interval</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">n =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] [1,2.8]   [1,2.8]   (2.8,4.6] (2.8,4.6] (4.6,6.4] (4.6,6.4] (6.4,8.2]
 [8] (6.4,8.2] (8.2,10]  (8.2,10] 
Levels: [1,2.8] (2.8,4.6] (4.6,6.4] (6.4,8.2] (8.2,10]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Divide continuous variable in intervals of 4</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ice, <span class="at">mapping =</span> <span class="fu">aes</span>( <span class="at">x =</span>Extent)) <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(<span class="fu">cut_interval</span>(Extent, <span class="at">n =</span> <span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="02_Romero_Alarcon_Viviana2_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>With the original data, plot sea ice by year, with different lines (oh! What geom will you need for that?) for different months. Then, use <code>facet_wrap</code> and <code>cut_interval(Month, n=4)</code> to split the plot into seasons.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ice, <span class="at">mapping =</span> <span class="fu">aes</span>( <span class="at">x =</span>Extent)) <span class="sc">+</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Year, <span class="at">color =</span> Month_Name)) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(<span class="fu">cut_interval</span>(Month, <span class="at">n=</span><span class="dv">4</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="02_Romero_Alarcon_Viviana2_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="use-that-color" class="level2">
<h2 class="anchored" data-anchor-id="use-that-color"><strong>5. Use That Color!</strong></h2>
<p>Last, make a line plot of sea ice by month with different lines as different years. Gussy it up with colors by year, a different theme, critical values, and whatever other annotations, changes to axes, etc., you think best show the story of this data. For ideas, see the lab, and look at various palettes around. Extra credit for using <a href="https://github.com/zumbov2/colorfindr">colorfindr</a> to make a palette.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load libraries and colors</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pacman)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(colorfindr, dplyr)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a> col <span class="ot">&lt;-</span> <span class="fu">get_colors</span>(<span class="st">"https://upload.wikimedia.org/wikipedia/commons/f/f4/The_Scream.jpg"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">make_palette</span>(<span class="at">n =</span> <span class="dv">39</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Quick-TRANSfer stage steps exceeded maximum (= 573300000)</code></pre>
</div>
<div class="cell-output-display">
<p><img src="02_Romero_Alarcon_Viviana2_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ice, <span class="at">mapping =</span> <span class="fu">aes</span>( <span class="at">y =</span>Extent)) <span class="sc">+</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> Month, <span class="at">color =</span> <span class="fu">as.factor</span>(Year))) <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span>  col)<span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()<span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Extention of ice in the last 40 years"</span>,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Month"</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span> <span class="st">"Extention of ice"</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">'Years'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="02_Romero_Alarcon_Viviana2_files/figure-html/unnamed-chunk-6-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
<section id="impress-yourself-with-knowledge-you-conquered-1.-gganimate" class="level2">
<h2 class="anchored" data-anchor-id="impress-yourself-with-knowledge-you-conquered-1.-gganimate"><strong>Impress Yourself with Knowledge You Conquered 1. gganimate</strong></h2>
<p>Make it animated with <a href="https://gganimate.com/index.html">gganimate</a>. Just like above. See https://gganimate.com/ to learn the package!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Library</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(transformr)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gifski)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> ice, <span class="at">mapping =</span> <span class="fu">aes</span>( <span class="at">y =</span>Extent)) <span class="sc">+</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> Month, <span class="at">color =</span> <span class="fu">as.factor</span>(Year))) <span class="sc">+</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>()<span class="sc">+</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>   <span class="fu">theme_classic</span>()<span class="sc">+</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Extention of ice in the last 40 years"</span>,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Month"</span>,</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span> <span class="st">"Extention of ice"</span>,</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">'Years'</span>)<span class="sc">+</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transition_reveal</span>(Month)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_line()`: Each group consists of only one observation.
ℹ Do you need to adjust the group aesthetic?
`geom_line()`: Each group consists of only one observation.
ℹ Do you need to adjust the group aesthetic?</code></pre>
</div>
<div class="cell-output-display">
<p><img src="02_Romero_Alarcon_Viviana2_files/figure-html/unnamed-chunk-7-1.gif" class="img-fluid"></p>
</div>
</div>
</section>
<section id="impress-yourself-with-knowledge-you-conquered-2.-something-new" class="level2">
<h2 class="anchored" data-anchor-id="impress-yourself-with-knowledge-you-conquered-2.-something-new"><strong>Impress Yourself with Knowledge You Conquered 2. Something new</strong></h2>
<p>Use the data and make something wholly new and awesome. Even extra extra credit for something amazing animated.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(gapminder)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Charge libraries:</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ice, <span class="fu">aes</span>(<span class="at">y =</span> Extent))<span class="sc">+</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> Month, <span class="at">color =</span> <span class="fu">as.factor</span>(Year))) <span class="sc">+</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>()<span class="sc">+</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="fu">aes</span>(<span class="at">x =</span> Month), <span class="at">color=</span><span class="st">'darkred'</span>)<span class="sc">+</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'Year: {frame_time}'</span>, <span class="at">x =</span> <span class="st">'Month'</span>, <span class="at">y =</span> <span class="st">'Ice Extention'</span>) <span class="sc">+</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transition_time</span>(<span class="fu">as.integer</span>(Year)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>No summary function supplied, defaulting to `mean_se()`</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 2 rows containing missing values (`geom_segment()`).
Removed 2 rows containing missing values (`geom_segment()`).
Removed 2 rows containing missing values (`geom_segment()`).
Removed 2 rows containing missing values (`geom_segment()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 8 rows containing missing values (`geom_segment()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).
Removed 12 rows containing missing values (`geom_segment()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 8 rows containing missing values (`geom_segment()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="02_Romero_Alarcon_Viviana2_files/figure-html/unnamed-chunk-8-1.gif" class="img-fluid"></p>
</div>
</div>
</section>
<section id="impress-yourself-with-knowledge-you-conquered-3.-tidytuesday" class="level2">
<h2 class="anchored" data-anchor-id="impress-yourself-with-knowledge-you-conquered-3.-tidytuesday"><strong>Impress Yourself with Knowledge You Conquered 3. #TidyTuesday</strong></h2>
<p>Participate in this week or last week’s (or this week’s) <a href="https://thomasmock.netlify.app/post/tidytuesday-a-weekly-social-data-project-in-r/">tidy tuesday</a> (and see that link to learn waht it is). See <a href="https://github.com/rfordatascience/tidytuesday">here</a> for data and schedule. Not only include what you do and your code here, but also include a link to where you tweet our your entry with a link to the code and the <code>#tidytuesday</code> hashtag.</p>
<hr>
</section>
<section id="meta-1." class="level2">
<h2 class="anchored" data-anchor-id="meta-1."><strong>Meta 1.</strong></h2>
<p>We are now generating figures and imagery. It’s something that blends creativity, abstract thinking, and quantiative abilities. How confident were you in thinking about making figures before this week versus after grappling with ggplot and the grammer of graphics philosophy?</p>
<pre><code>I think I need more practice. Decide what is the best plot for my data is not a easy task to me yet, and also, I noticed I am not reading well every single question. </code></pre>
</section>
<section id="meta-2." class="level2">
<h2 class="anchored" data-anchor-id="meta-2."><strong>Meta 2.</strong></h2>
<p>What’s your favorite think about data visualization?</p>
<pre><code>Choosing colors</code></pre>
</section>
<section id="meta-3." class="level2">
<h2 class="anchored" data-anchor-id="meta-3."><strong>Meta 3.</strong></h2>
<p>How much time did this take you, roughly? I’m trying to keep track that these assignments aren’t killer, more than anything.</p>
<pre><code>3 hours (I spend a lot of time in animate (for the 5 first exercises, I spent 40 min))</code></pre>
</section>
<section id="meta-4." class="level2">
<h2 class="anchored" data-anchor-id="meta-4."><strong>Meta 4.</strong></h2>
<p>Please give yourself a weak/sufficient/strong assessment on this assigment. Feel free to comment on why.</p>
<pre><code>Strong</code></pre>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>